{"version":3,"sources":["main.js","shareTwitter.js","localStorage.js","btnreset.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.min.js","sourcesContent":["'use strict';\n\n//Preview card\n\nconst itemsSocialMedia = document.querySelectorAll('.fill-input__placeholder');\nconst uploadBtn = document.querySelector('.fill-input__image');\nconst uploadInput = document.querySelector('.fill-input__input');\nconst uploadPhoto = document.querySelector('.card__image');\nconst uploadMiniPhoto = document.querySelector('.square__white');\nconst fr = new FileReader();\n\n\nconst reWriteData = (e) => {\n  const fillInput = e.currentTarget;\n  const targetInput = fillInput.getAttribute('data-stringer');\n  const sendCont = document.querySelector('#' + targetInput);\n  const itemAttribute = fillInput.getAttribute('type');\n  if (itemAttribute === 'number') {\n    sendCont.href += fillInput.value;\n  } else if (itemAttribute === 'email') {\n    sendCont.href += fillInput.value;\n  } else if (itemAttribute === 'url') {\n    const scriptUrl = fillInput.value + '/';\n    sendCont.href += scriptUrl;\n  } else {\n    sendCont.innerHTML = fillInput.value;\n  }\n};\n\n//Cargar Imagen\n\n\nconst mostrarImagen = (e) => {\n  const myFile = e.currentTarget.files[0];\n  fr.addEventListener('load', writeImage);\n  fr.readAsDataURL(myFile);\n};\n\nconst writeImage = () => {\n  const urlPhoto = 'url(' + '\"' + fr.result + '\"' + ')';\n  uploadPhoto.style.backgroundImage = urlPhoto;\n  uploadMiniPhoto.style.backgroundImage = urlPhoto;\n};\n\nconst clickInput = () => {\n  uploadInput.click();\n};\n\nuploadInput.addEventListener('change', mostrarImagen);\nuploadBtn.addEventListener('click', clickInput);\n\nfor (const socialMediaItems of itemsSocialMedia.length) {\n  const targetAttribute = socialMediaItems.getAttribute('type');\n  if (targetAttribute === 'url') {\n    socialMediaItems.addEventListener('change', reWriteData);\n  } else {\n    socialMediaItems.addEventListener('keyup', reWriteData);\n  }\n}\n\n//habilidades\nvar buttonAdd = document.querySelector('.js-button-abilitiesPlus');\nvar buttonRemove = document.querySelectorAll('.js-button-abilitiesMinus');\nvar boxSkills = document.querySelectorAll('.js-ability-box');\nvar selectSkills = document.querySelectorAll('.js-select-abilities');\n\n//var selectInputSkills = document.querySelector('.js-select-abilities');\n\nfunction createOption(text) {\n  //Crea un option\n  var option = document.createElement('option');\n  // Crea un nodo de texto\n  var optionText = document.createTextNode(text);\n  option.appendChild(optionText);\n  return option;\n}\n\nfunction fillSelect() {\n  var url =\n    'https://raw.githubusercontent.com/Adalab/dorcas-s2-proyecto-data/master/skills.json';\n  fetch(url)\n\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(json) {\n      var skillList = json.skills;\n      skillList.unshift('Selecciona una habilidad');\n      for (var i = 0; i < selectSkills.length; i++) {\n        for (var j = 0; j < skillList.length; j++) {\n          var newSkillsOption = createOption(skillList[j]);\n          selectSkills[i].appendChild(newSkillsOption);\n        }\n      }\n    });\n\n}\n\nvar pseudoBoxCardSkill;\n//function addSkill() {\n//  var boxHidden = document.querySelectorAll('.skills-hidden');\n\nvar skillContainer = document.querySelector('.js-card_skills--list');\n\nfunction addSkill() {\n  var boxCardSkill = document.querySelectorAll('.skill');\n  var boxHidden = document.querySelectorAll('.skills-hidden');\n  if (boxHidden.length === 2) {\n    boxSkills[1].classList.remove('skills-hidden');\n  } else if (boxHidden.length === 1) {\n    boxSkills[2].classList.remove('skills-hidden');\n  } else {\n    console.log('no hay mas habilidades que desplegar');\n  }\n\n  if (boxCardSkill.length === 1) {\n    pseudoBoxCardSkill = document.createElement('li');\n    console.log(pseudoBoxCardSkill);\n    pseudoBoxCardSkill.setAttribute('class','js-skill skill remove');\n  } else if (boxCardSkill.length === 2) {\n    pseudoBoxCardSkill = document.createElement('li');\n    pseudoBoxCardSkill.setAttribute('class', 'js-skill skill remove');\n  } else {\n    console.log('no hay mas habilidades que añadir');\n  }\n  skillContainer.appendChild(pseudoBoxCardSkill);\n}\n\n\nfunction removeSkill(event) {\n  var sizePseudoBoxCardSkill = document.querySelectorAll('.remove');\n  var parentBox = event.currentTarget.parentElement;\n  parentBox.classList.add('skills-hidden');\n\n  if(sizePseudoBoxCardSkill.length === 2){\n    sizePseudoBoxCardSkill[1].remove();\n  } else if(sizePseudoBoxCardSkill.length === 1){\n    sizePseudoBoxCardSkill[0].remove();\n  }\n}\n\nbuttonAdd.addEventListener('click', addSkill);\nbuttonRemove[0].addEventListener('click', removeSkill);\nbuttonRemove[1].addEventListener('click', removeSkill);\nfillSelect();\n\n//HABILIDADES DE LA TARJETA\n\n\nfunction addSelectSkills() {\n  var newContentSkill;\n  var newBoxSkill = document.querySelectorAll('.skill');\n\n  for (var i = 0; i < newBoxSkill.length; i++){\n    newContentSkill = document.createTextNode(selectSkills[i].value);\n    newBoxSkill[i].innerHTML = '';\n    newBoxSkill[i].appendChild(newContentSkill);\n  }\n}\n\nfor (var j = 0; j < selectSkills.length; j++) {\n  selectSkills[j].addEventListener('change', addSelectSkills);\n}\n\n//colapsables\nvar activableSection = document.querySelectorAll('.js-collapsible-title');\nvar collapsibles = document.querySelectorAll('.js-collapsible-select');\n\n//abre y cierra colapsables\n\nfunction collapsibleDesign(event) {\n  var parent = event.currentTarget.parentElement;\n  closeCollapsibles();\n  // Si contiene la clase hidden la elimina y sino la añade\n  parent.classList.toggle('js-collapsible-visible');\n}\n\nfor (var k = 0; k < activableSection.length; k++) {\n  activableSection[k].addEventListener('click', collapsibleDesign);\n}\n// un colapsable abierto cada vez\n\nfunction closeCollapsibles() {\n  for (var i = 0; i < collapsibles.length; i++) {\n    //console.log(activableSection.length);\n    collapsibles[i].classList.remove('js-collapsible-visible');\n  }\n}\n\n//actualizar colores\nvar radioButtonColor = document.querySelectorAll('.color-check');\nvar card = document.querySelector('.jsCard');\nvar attri;\n\nfunction selectColorCard(event) {\n  //console.log('que hay en radiobut', radioButtonColor);\n  card.classList.remove('green-card', 'red-card', 'blue-card');\n  attri = event.currentTarget.getAttribute('data-dest');\n  card.classList.add(attri);\n}\n\nfor (var l = 0; l < radioButtonColor.length; l++) {\n  radioButtonColor[l].addEventListener('click', selectColorCard);\n\n}\n\n\n//actualizar fuentes\n\nvar radioButtonFont = document.querySelectorAll('.font-check');\nvar attriFont;\n\nfunction selectFontCard(event) {\n  //console.log('que hay en radiobut', radioButtonFont);\n  card.classList.remove('ubuntu-card', 'comic-card', 'montse-card');\n  attriFont = event.currentTarget.getAttribute('data-font');\n  card.classList.add(attriFont);\n}\n\nfor (var m = 0; m < radioButtonFont.length; m++) {\n  radioButtonFont[m].addEventListener('click', selectFontCard);\n  //console.log(radioButtonFont[h]);\n}\n","'use strict';\n\nvar btnCreateCard = document.querySelector('.js-btn-create-card');\nvar photoFileReader = new FileReader();\nvar form = document.querySelector('.formjs');\nvar responseURL = document.querySelector('.link-awesome');\n\n\n\nfunction getJSONFromInputs(inputs) {\n  return inputs.reduce(function (acc, val) {\n    if (val.type==='radio' && val.checked===true) {\n      acc[val.name] = val.value;\n    }\n    if ((val.nodeName !== 'BUTTON') && (val.nodeName !== 'FIELDSET') && (val.type!=='radio') && ( val.type !== 'select-one' ) ) {\n      acc[val.name] = val.value;\n    }\n    if ( val.type === 'select-one' ){\n      if (val.value !== 'Selecciona una habilidad'){\n        acc.skills.push(val.value);\n      }\n    }\n    return acc;\n  }, {skills: []});\n}\n\n\nfunction sendData() {\n  var inputs = Array.from(form.elements);\n  console.log(inputs);\n  var json = getJSONFromInputs(inputs);\n  // json.skills = ['Javascript', ' React'];\n  json.photo = photoFileReader.result;\n  delete json[''];\n  sendRequest(json);\n  localStorage.setItem('Business-Card', JSON.stringify(json));\n}\n\nfunction loadPhoto() {\n  var showTwitter = document.querySelector('.js-hidden-twitter');\n  var addedPhoto = document.querySelector('#add-image').files[0];\n  showTwitter.classList.remove('js-hidden-twitter');\n  btnCreateCard.classList.add('js-press-button');\n  if(addedPhoto){\n    photoFileReader.addEventListener('load', sendData);\n    photoFileReader.readAsDataURL(addedPhoto);\n  } else {\n    console.log('Carga la foto melon!!');\n  }\n}\n\nfunction sendRequest(json) {\n  fetch('https://us-central1-awesome-cards-cf6f0.cloudfunctions.net/card/', {\n    method: 'POST',\n    body: JSON.stringify(json),\n    headers: {\n      'content-type': 'application/json'\n    },\n  })\n    .then(function(resp) {\n      return resp.json();\n    })\n    .then(function(result) {\n      showURL(result);\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n}\n\nvar tweet;\nfunction showURL(result) {\n  if (result.success) {\n    responseURL.innerHTML = '<a class=\"link-awesome\" target=\"_blank\" href=' + result.cardURL + '>' + result.cardURL + '</a>';\n  } else {\n    responseURL.innerHTML = 'ERROR:' + result.error;\n  }\n  tweet = result.cardURL;\n}\n\nbtnCreateCard.addEventListener('click', loadPhoto);\n\n\n// Compartir tarjeta en Twitter\nvar btnShareTwitter = document.querySelector('.btn-sharejs');\nvar btnToTwitter = document.querySelector('.link-awesome');\nvar linkToTwitter = document.querySelector('.linkTwitter');\nfunction shareTwitter () {\n  linkToTwitter.href = 'https://twitter.com/intent/tweet?url=' + tweet + '&text=Tarjeta%20de%20de%20presentacion%20con%20Awesome%20profile-cards%20(StringerThings%20-%20Sprint2%20de%20Adalab)&hashtags=WomenInTech';\n}\n\nfunction clickA () {\n  linkToTwitter.click();\n}\nlinkToTwitter.addEventListener('click', shareTwitter);\nbtnShareTwitter.addEventListener('click', clickA);\n","'use strict';\n\nvar lSname = document.querySelector('#nmb');\nvar lSnameCard = document.querySelector('#fullname');\nvar lSjob = document.querySelector('#job');\nvar lSjobCard = document.querySelector('#profesion');\nvar lSimg = document.querySelector('#add-image');\nvar lSmail = document.querySelector('#emailaddress');\nvar lSmailCard = document.querySelector('#mail-link');\nvar lSphone = document.querySelector('#phone');\nvar lSphoneCard = document.querySelector('#mobile-link');\nvar lSlinkedin = document.querySelector('#lkdn');\nvar lSlinkedinCard = document.querySelector('#linkedin-link');\nvar lSgit = document.querySelector('#GH');\nvar lSgitCard = document.querySelector('#github-link');\n\n\nvar lSpalettes = document.querySelectorAll('.color-check');\nvar lSfonts = document.querySelectorAll('.font-check');\n\nvar card = document.querySelector('.jsCard');\n\nvar dataCard = {};\n\n\nfunction recoverLocalStorage() {\n  if (!localStorage.getItem('Business-Card')) {\n    resetform();\n    // dataCard = {\n    //   'name': 'Nombre apellidos',\n    //   'job': 'Profesión',\n    //   'photo': '',\n    //   'email': '',\n    //   'phone': '',\n    //   'linkedin': '',\n    //   'github': '',\n    //   'pallete': '',\n    //   'typography': ''\n    // }\n  } else {\n    dataCard = JSON.parse(localStorage.getItem('Business-Card'));\n  }\n\n  lSname.value = dataCard.name;\n  lSnameCard.innerText = dataCard.name;\n  lSjob.value = dataCard.job;\n  lSjobCard.innerText = dataCard.job\n  uploadPhoto.style.backgroundImage = \"url(\" + dataCard.photo + \")\";\n  uploadMiniPhoto.style.backgroundImage = \"url(\" + dataCard.photo + \")\";\n  lSmail.value = dataCard.email;\n  lSmailCard.href = \"mailto:\" + dataCard.email;\n  lSphone.value = dataCard.phone;\n  lSlinkedin.value = dataCard.linkedin;\n  lSlinkedinCard.href = \"https://www.linkedin.com/in/\" + dataCard.linkedin;\n  lSgit.value = dataCard.github;\n  lSgitCard.value = \"https://github.com/\" + dataCard.github;\n  lSphoneCard.href = \"tel:\" + dataCard.phone;\n  for (var i = 0; i < lSpalettes.length; i++) {\n    if (lSpalettes[i].value === dataCard.palette) {\n      lSpalettes[i].checked = true;\n      card.classList.remove('green-card', 'red-card', 'blue-card');\n      var attri = lSpalettes[i].getAttribute('data-dest');\n      card.classList.add(attri);\n    } else {\n      lSpalettes[i].checked = false;\n    }\n  }\n  for (var i = 0; i < lSfonts.length; i++) {\n    if (lSfonts[i].value === dataCard.typography) {\n\n      lSfonts[i].checked = true;\n      card.classList.remove('ubuntu-card', 'comic-card', 'montse-card');\n      var attriFont = lSfonts[i].getAttribute('data-font');\n      card.classList.add(attriFont);\n\n    } else {\n      lSfonts[i].checked = false;\n    }\n  }\n\n}\n\n\nrecoverLocalStorage();\n","'use strict';\n\n\nvar resetbtn = document.querySelector('.resetbutton');\nvar fullName = document.querySelector('#fullname');\nvar profesion = document.querySelector('#profesion');\nvar mobileNumber = document.querySelector('#mobile-link');\nvar mailAddress = document.querySelector('#mail-link');\nvar linkedinLink = document.querySelector('#linkedin-link');\nvar githubLink = document.querySelector('#github-link');\n\nvar card = document.querySelector('.jsCard');\nvar showTwitter = document.querySelector('.js-hidden-twitter');\nvar btnCreateCard = document.querySelector('.js-btn-create-card');\n\n//Objeto que traemos del saveLocalStorage\nvar resetCard = {};\nresetCard.name = 'Nombre apellido';\nresetCard.occupation = 'Profesión';\nresetCard.email = '';\nresetCard.telephone = '';\nresetCard.linkedin = '';\nresetCard.gitHub = '';\nlocalStorage.setItem('Reset-Card', JSON.stringify(resetCard));\n\n\nfunction resetform() {\n  document.querySelector('.form').reset();\n\n  resetCard = JSON.parse(localStorage.getItem('Reset-Card'));\n  fullName.textContent=resetCard.name;\n  profesion.textContent = resetCard.occupation;\n  mobileNumber.href = resetCard.email;\n  mailAddress.href = resetCard.telephone;\n  linkedinLink.href = resetCard.linkedin;\n  githubLink.href = resetCard.gitHub;\n  uploadPhoto.style.backgroundImage = 'url(../images/image-card.png)';\n  uploadMiniPhoto.style.backgroundImage = '';\n  card.classList.remove('green-card', 'red-card', 'blue-card');\n  card.classList.add('green-card');\n  card.classList.remove('ubuntu-card', 'comic-card', 'montse-card');\n  card.classList.add('comic-card');\n  showTwitter.classList.add('js-hidden-twitter');\n  btnCreateCard.classList.remove('js-press-button');\n}\n\n\nresetbtn.addEventListener('click', resetform);\n"]}